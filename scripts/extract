#!/bin/bash

# Function to extract 7z files
extract_7z() {
    7z x "$1" -o"${1%.7z}"
}

# Function to extract rar files
extract_rar() {
    unrar x "$1" "${1%.rar}"
}

# Function to extract zip files
extract_zip() {
    unzip "$1" -d "${1%.zip}"
}

# Function to extract tar.gz files
extract_tar_gz() {
    tar -xzf "$1" -C "${1%.tar.gz}"
}

# Function to extract tar.xz files
extract_tar_xz() {
    tar -xJf "$1" -C "${1%.tar.xz}"
}

# Function to extract zstd files
extract_zstd() {
    tar --use-compress-program=zstd -xvf "$1" -C "${1%.zst}"
}

# Get the file extension
extension="${1##*.}"

# Check if the file exists
if [ ! -f "$1" ]; then
    echo "File not found: $1"
    exit 1
fi

# Check the file extension and extract accordingly
case "$extension" in
    7z) extract_7z "$1" ;;
    rar) extract_rar "$1" ;;
    zip) extract_zip "$1" ;;
    tar.gz) extract_tar_gz "$1" ;;
    tar.xz) extract_tar_xz "$1" ;;
    zst) extract_zstd "$1" ;;
    *) echo "Unsupported file format: $extension"
       exit 1 ;;
esac

exit 0

